{"$product":{"deployment_mode":"SOLO","name":"API AutoFlow Pro","version":"3.1.5"},"API":[{"id":"data-transformation-api","type":"http","version":{"0.0.0":{"components":{},"info":{"description":"","title":"","version":"0.0.0"},"openapi":"3.0.2","paths":{"/1-to-n":{"post":{"responses":{},"x-request-examples":{"cisco-asa":{"body":"%ASA-6-302013: TCP connection 933 OUTSIDE:172.217.169.68\n%ASA-6-302013: TCP connection 935 OUTSIDE:23.40.43.75"}}}},"/n-to-1":{"post":{"parameters":[{"in":"query","name":"source"},{"in":"query","name":"name"},{"in":"query","name":"first"},{"in":"query","name":"last"}],"responses":{},"x-request-examples":{"db_1":{"query":{"first":"","last":"","name":"John Doe","source":"website_user"}},"db_2":{"query":{"first":"Peter","last":"Parker","name":"","source":"service_user"}}}}}},"servers":[],"tags":[]}}}],"Server":[{"currentVersion":"0.0.0","id":"data-transformation-server","type":"http","version":{"0.0.0":{"events":[{"event":{"__struct__":"APIOperationReference","apiReference":{"__struct__":"APIReference","id":"data-transformation-api","version":"0.0.0"},"operationReference":{"__struct__":"HTTPOperationReference","method":"post","path":"/1-to-n"}},"matches":[{"do":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"service","description":"","input":{"input":{"syslog":{"__struct__":"ScopeReference","path":["body"],"scope":"request"}},"serviceOperationReference":{"__struct__":"ServiceOperationReference","id":"1-to-n","serviceReference":{"__struct__":"ServiceReference","id":"data-transformation","version":"0.0.0"},"title":null},"stopOnError":true},"log":false,"mockingFlag":false,"mockingValue":null,"name":"operation","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"625808e7-8149-43d1-9a4e-ae6c8c712e0b"}],"mapping":{"body":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"header":{},"status_code":200}},"in":{}}],"setting":{},"test":{}},{"event":{"__struct__":"APIOperationReference","apiReference":{"__struct__":"APIReference","id":"data-transformation-api","version":"0.0.0"},"operationReference":{"__struct__":"HTTPOperationReference","method":"post","path":"/n-to-1"}},"matches":[{"do":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"service","description":"","input":{"input":{"first":{"__struct__":"ScopeReference","path":["query","first"],"scope":"request"},"last":{"__struct__":"ScopeReference","path":["query","last"],"scope":"request"},"name":{"__struct__":"ScopeReference","path":["query","name"],"scope":"request"},"source":{"__struct__":"ScopeReference","path":["query","source"],"scope":"request"}},"serviceOperationReference":{"__struct__":"ServiceOperationReference","id":"n-to-1","serviceReference":{"__struct__":"ServiceReference","id":"data-transformation","version":"0.0.0"},"title":null},"stopOnError":true},"log":false,"mockingFlag":false,"mockingValue":null,"name":"operation","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"8c319873-fa40-4827-8fc6-8cd8bd5aed8a"}],"mapping":{"body":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"header":{},"status_code":200}},"in":{}}],"setting":{},"test":{}}],"info":{"description":"","title":""},"setting":{"apis":[{"__struct__":"APIReference","id":"data-transformation-api","version":"0.0.0"}],"id":"data-transformation-server","port":8080,"securities":[],"tls":false}}}}],"Service":[{"id":"data-transformation","version":{"0.0.0":{"info":{"description":"","title":""},"operation":{"1-to-n":{"do":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"string","description":"","input":{"string":{"__struct__":"ScopeReference","path":["syslog"],"scope":"input"}},"log":false,"mockingFlag":false,"mockingValue":null,"name":"split-by-newline","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"a3f181c9-7ec7-4c36-a494-744c938703e1"},{"__struct__":"Action","active":true,"category":"iteration","description":"","input":{"array":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"foreach":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"string","description":"","input":{"patterns":["connection ","OUTSIDE:"],"string":{"__struct__":"ScopeReference","path":["value"],"scope":"ip-port"}},"log":false,"mockingFlag":false,"mockingValue":null,"name":"split-by","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"c247e9d1-55a0-4025-b23f-a957de9ea419"}],"mapping":{"__struct__":"ObjectMapping","values":[{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"ip","title":"ip","value":{"__struct__":"ScopeReference","path":["output",2],"scope":"variables"}},{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"port","title":"port","value":{"__struct__":"ScopeReference","path":["output",1],"scope":"variables"}}]}},"scope":"ip-port"},"log":false,"mockingFlag":false,"mockingValue":null,"name":"map","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"b4f74934-9f62-488b-bfb9-d7504e46f0c9"}],"mapping":{"result":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"}}},"errorTypes":[],"id":"1-to-n","in":{"__struct__":"Schema","type":"arguments","value":[{"__struct__":"Field","eval":true,"handler":null,"id":"syslog","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false}]},"info":{},"out":{"__struct__":"Schema","type":"arguments","value":[{"__struct__":"Field","eval":true,"handler":null,"id":"result","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false}]},"test":{"cisco-asa":{"input":{"syslog":"%ASA-6-302013: TCP connection 933 OUTSIDE:172.217.169.68\n%ASA-6-302013: TCP connection 935 OUTSIDE:23.40.43.75"}}}},"n-to-1":{"do":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"conditional","description":"","input":{"cases":[{"case":"website_user","value":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"string","description":"","input":{"string":{"__struct__":"ScopeReference","path":["name"],"scope":"input"}},"log":false,"mockingFlag":false,"mockingValue":null,"name":"split","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"7cda8ade-0483-40bb-b4ba-fb316893ece8"}],"mapping":{"__struct__":"ObjectMapping","values":[{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"first_name","title":"first_name","value":{"__struct__":"ScopeReference","path":["output",0],"scope":"variables"}},{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"last_name","title":"last_name","value":{"__struct__":"ScopeReference","path":["output",1],"scope":"variables"}}]}}}],"default":{"__struct__":"ObjectMapping","values":[{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"first_name","title":"first_name","value":{"__struct__":"ScopeReference","path":["first"],"scope":"input"}},{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"last_name","title":"last_name","value":{"__struct__":"ScopeReference","path":["last"],"scope":"input"}}]},"value":{"__struct__":"ScopeReference","path":["source"],"scope":"input"}},"log":false,"mockingFlag":false,"mockingValue":null,"name":"switch","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"9928dca0-aaeb-47d9-ac16-563154010200"}],"mapping":{"user_obj":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"}}},"errorTypes":[],"id":"n-to-1","in":{"__struct__":"Schema","type":"arguments","value":[{"__struct__":"Field","eval":true,"handler":null,"id":"source","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false},{"__struct__":"Field","eval":true,"handler":null,"id":"name","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false},{"__struct__":"Field","eval":true,"handler":null,"id":"first","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false},{"__struct__":"Field","eval":true,"handler":null,"id":"last","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false}]},"info":{},"out":{"__struct__":"Schema","type":"arguments","value":[{"__struct__":"Field","eval":true,"handler":null,"id":"user_obj","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false}]},"test":{"db_1":{"input":{"first":"","last":"","name":"John Doe","source":"website_user"}},"db_2":{"input":{"first":"Peter","last":"Parker","name":"","source":"service_user"}}}}}}}}],"settings":{}}