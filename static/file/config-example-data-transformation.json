{"$product":{"deployment_mode":"SOLO","name":"API AutoFlow Pro","version":"3.1.5"},"API":[{"id":"data-transformation-api","type":"http","version":{"0.0.0":{"components":{},"info":{"description":"","title":"","version":"0.0.0"},"openapi":"3.0.2","paths":{"/1-to-n":{"post":{"responses":{},"x-request-examples":{"cisco-asa":{"body":"%ASA-6-302013: TCP connection 933 OUTSIDE:172.217.169.68\n%ASA-6-302013: TCP connection 935 OUTSIDE:23.40.43.75"}}}},"/json-to-json-advanced":{"post":{"responses":{},"x-request-examples":{"real-data":{"body":[{"data":{"field1":"john","field2":"doe"}},{"data":{"field1":"joe","field2":"blow"}}],"connection":{"peer":{"ip":"172.17.0.1","port":45900},"socket":{"ip":"172.17.0.2","port":8080}},"cookie":{},"header":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"200","content-type":"application/json","host":"localhost:8080","postman-token":"48b9e554-bf06-411f-a900-d94ed46ab2d6","user-agent":"PostmanRuntime/7.34.0"},"method":"post","path":{},"query":{},"uri":"http://localhost:8080/json-to-json-advanced"}}}},"/json-to-json-simple":{"post":{"responses":{},"x-request-examples":{"real-data":{"body":{"data":{"field1":"john","field2":"doe"}},"connection":{"peer":{"ip":"172.17.0.1","port":42978},"socket":{"ip":"172.17.0.2","port":8080}},"cookie":{},"header":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:8080","postman-token":"3064afbc-9b3b-427a-9386-8b6e5a9857bd","user-agent":"PostmanRuntime/7.34.0"},"method":"post","path":{},"query":{},"uri":"http://localhost:8080/json-to-json-simple"}}}},"/n-to-1":{"post":{"parameters":[{"in":"query","name":"source"},{"in":"query","name":"name"},{"in":"query","name":"first"},{"in":"query","name":"last"}],"responses":{},"x-request-examples":{"db_1":{"query":{"first":"","last":"","name":"John Doe","source":"website_user"}},"db_2":{"query":{"first":"Peter","last":"Parker","name":"","source":"service_user"}}}}}},"servers":[],"tags":[]}}}],"Server":[{"currentVersion":"0.0.0","id":"data-transformation-server","type":"http","version":{"0.0.0":{"events":[{"event":{"__struct__":"APIOperationReference","apiReference":{"__struct__":"APIReference","id":"data-transformation-api","version":"0.0.0"},"operationReference":{"__struct__":"HTTPOperationReference","method":"post","path":"/1-to-n"}},"matches":[{"do":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"service","description":"","input":{"input":{"syslog":{"__struct__":"ScopeReference","path":["body"],"scope":"request"}},"serviceOperationReference":{"__struct__":"ServiceOperationReference","id":"1-to-n","serviceReference":{"__struct__":"ServiceReference","id":"data-transformation","version":"0.0.0"},"title":null},"stopOnError":true},"log":false,"mockingFlag":false,"mockingValue":null,"name":"operation","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"7f20d8b6-0d4d-4ec1-a236-27576da9d0e9"}],"mapping":{"body":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"header":{},"status_code":200}},"in":{}}],"setting":{},"test":{}},{"event":{"__struct__":"APIOperationReference","apiReference":{"__struct__":"APIReference","id":"data-transformation-api","version":"0.0.0"},"operationReference":{"__struct__":"HTTPOperationReference","method":"post","path":"/n-to-1"}},"matches":[{"do":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"service","description":"","input":{"input":{"first":{"__struct__":"ScopeReference","path":["query","first"],"scope":"request"},"last":{"__struct__":"ScopeReference","path":["query","last"],"scope":"request"},"name":{"__struct__":"ScopeReference","path":["query","name"],"scope":"request"},"source":{"__struct__":"ScopeReference","path":["query","source"],"scope":"request"}},"serviceOperationReference":{"__struct__":"ServiceOperationReference","id":"n-to-1","serviceReference":{"__struct__":"ServiceReference","id":"data-transformation","version":"0.0.0"},"title":null},"stopOnError":true},"log":false,"mockingFlag":false,"mockingValue":null,"name":"operation","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"3de3d7a7-c6ae-461b-9615-5a50d767393f"}],"mapping":{"body":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"header":{},"status_code":200}},"in":{}}],"setting":{},"test":{}},{"event":{"__struct__":"APIOperationReference","apiReference":{"__struct__":"APIReference","id":"data-transformation-api","version":"0.0.0"},"operationReference":{"__struct__":"HTTPOperationReference","method":"post","path":"/json-to-json-simple"}},"matches":[{"do":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"string","description":"","input":{"string":{"__struct__":"ScopeReference","path":["body","data","field1"],"scope":"request"}},"log":false,"mockingFlag":false,"mockingValue":null,"name":"capitalize-first","output":{"__struct__":"ScopeReference","path":["first_name"],"scope":"variables"},"title":"First name capitalized","visualId":"d631fdba-c050-49f9-b0ad-a5e7acca9d83"}],"mapping":{"body":{"__struct__":"ObjectMapping","values":[{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"user","title":"user","value":{"__struct__":"ObjectMapping","values":[{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"first_name","title":"first_name","value":{"__struct__":"ScopeReference","path":["first_name"],"scope":"variables"}},{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"last_name","title":"last_name","value":{"__struct__":"ScopeReference","path":["body","data","field2"],"scope":"request"}}]}}]},"header":{},"status_code":200}},"in":{}}],"setting":{},"test":{}},{"event":{"__struct__":"APIOperationReference","apiReference":{"__struct__":"APIReference","id":"data-transformation-api","version":"0.0.0"},"operationReference":{"__struct__":"HTTPOperationReference","method":"post","path":"/json-to-json-advanced"}},"matches":[{"do":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"iteration","description":"","input":{"array":{"__struct__":"ScopeReference","path":["body"],"scope":"request"},"foreach":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"variable","description":"","input":{"value":{"__struct__":"ObjectMapping","values":[{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"user","title":"user","value":{"__struct__":"ObjectMapping","values":[{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"first_name","title":"first_name","value":{"__struct__":"ScopeReference","path":["value","data","field1"],"scope":"users"}},{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"last_name","title":"last_name","value":{"__struct__":"ScopeReference","path":["value","data","field2"],"scope":"users"}}]}}]}},"log":false,"mockingFlag":false,"mockingValue":null,"name":"set","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"10f559b0-8856-4ee2-aa90-0e3f95d5c8ea"}],"mapping":null},"scope":"users"},"log":false,"mockingFlag":false,"mockingValue":null,"name":"map","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"07bcbcd7-5525-4939-8be4-025f7b0affa8"}],"mapping":{"body":{"__struct__":"ObjectMapping","values":[{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"users","title":"users","value":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"}}]},"header":{},"status_code":200}},"in":{}}],"setting":{},"test":{}}],"info":{"description":"","title":""},"setting":{"apis":[{"__struct__":"APIReference","id":"data-transformation-api","version":"0.0.0"}],"id":"data-transformation-server","port":8080,"securities":[],"tls":false}}}}],"Service":[{"id":"data-transformation","version":{"0.0.0":{"info":{"description":"","title":""},"operation":{"1-to-n":{"do":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"string","description":"","input":{"string":{"__struct__":"ScopeReference","path":["syslog"],"scope":"input"}},"log":false,"mockingFlag":false,"mockingValue":null,"name":"split-by-newline","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"cccb3841-490e-44c5-bb4b-ab2ef6e5495a"},{"__struct__":"Action","active":true,"category":"iteration","description":"","input":{"array":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"foreach":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"string","description":"","input":{"patterns":["connection ","OUTSIDE:"],"string":{"__struct__":"ScopeReference","path":["value"],"scope":"ip-port"}},"log":false,"mockingFlag":false,"mockingValue":null,"name":"split-by","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"4b1a96e0-4bf1-4c21-9361-1f3e36dd959c"}],"mapping":{"__struct__":"ObjectMapping","values":[{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"ip","title":"ip","value":{"__struct__":"ScopeReference","path":["output",2],"scope":"variables"}},{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"port","title":"port","value":{"__struct__":"ScopeReference","path":["output",1],"scope":"variables"}}]}},"scope":"ip-port"},"log":false,"mockingFlag":false,"mockingValue":null,"name":"map","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"dfeba530-eced-4f95-a51c-77dd0aef5643"}],"mapping":{"result":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"}}},"errorTypes":[],"id":"1-to-n","in":{"__struct__":"Schema","type":"arguments","value":[{"__struct__":"Field","eval":true,"handler":null,"id":"syslog","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false}]},"info":{},"out":{"__struct__":"Schema","type":"arguments","value":[{"__struct__":"Field","eval":true,"handler":null,"id":"result","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false}]},"test":{"cisco-asa":{"input":{"syslog":"%ASA-6-302013: TCP connection 933 OUTSIDE:172.217.169.68\n%ASA-6-302013: TCP connection 935 OUTSIDE:23.40.43.75"}}}},"n-to-1":{"do":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"conditional","description":"","input":{"cases":[{"case":"website_user","value":{"__struct__":"Execution","actions":[{"__struct__":"Action","active":true,"category":"string","description":"","input":{"string":{"__struct__":"ScopeReference","path":["name"],"scope":"input"}},"log":false,"mockingFlag":false,"mockingValue":null,"name":"split","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"0f62c4e5-0f89-4ecf-999d-33f470d1bab9"}],"mapping":{"__struct__":"ObjectMapping","values":[{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"first_name","title":"first_name","value":{"__struct__":"ScopeReference","path":["output",0],"scope":"variables"}},{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"last_name","title":"last_name","value":{"__struct__":"ScopeReference","path":["output",1],"scope":"variables"}}]}}}],"default":{"__struct__":"ObjectMapping","values":[{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"first_name","title":"first_name","value":{"__struct__":"ScopeReference","path":["first"],"scope":"input"}},{"__struct__":"ObjectMappingKeyValue","default":null,"exclude":false,"key":"last_name","title":"last_name","value":{"__struct__":"ScopeReference","path":["last"],"scope":"input"}}]},"value":{"__struct__":"ScopeReference","path":["source"],"scope":"input"}},"log":false,"mockingFlag":false,"mockingValue":null,"name":"switch","output":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"},"title":"","visualId":"79f3a83b-614b-4d14-aead-58eeeff5254b"}],"mapping":{"user_obj":{"__struct__":"ScopeReference","path":["output"],"scope":"variables"}}},"errorTypes":[],"id":"n-to-1","in":{"__struct__":"Schema","type":"arguments","value":[{"__struct__":"Field","eval":true,"handler":null,"id":"source","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false},{"__struct__":"Field","eval":true,"handler":null,"id":"name","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false},{"__struct__":"Field","eval":true,"handler":null,"id":"first","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false},{"__struct__":"Field","eval":true,"handler":null,"id":"last","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false}]},"info":{},"out":{"__struct__":"Schema","type":"arguments","value":[{"__struct__":"Field","eval":true,"handler":null,"id":"user_obj","label":null,"required":true,"schema":{"__struct__":"Schema","type":"json","value":{}},"static":false}]},"test":{"db_1":{"input":{"first":"","last":"","name":"John Doe","source":"website_user"}},"db_2":{"input":{"first":"Peter","last":"Parker","name":"","source":"service_user"}}}}}}}}],"settings":{}}